<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>E-RM dr.zico</title>
    <!-- CDN BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous" />

    <!-- Bootstrap Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" />

    <!-- CSS -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- NAVIGATION BAR START -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">E-RM</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="#">Registration</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Management</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"> Report </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled">Disabled</a>
            </li>
          </ul>
          <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search here" aria-label="Search" />
            <button class="btn btn-outline-success" type="">Search</button>
          </form>
        </div>
      </div>
    </nav>
    <!-- NAVIGATION BAR END -->

    <!-- ANAMNESA BOX START -->
    <section id="ERM">
      <form name="E-RM">
        <div class="container Anamnesa">
          <div class="row">
            <div class="alert alert-success alert-dismissible fade show my-alert text-center d-none" role="alert">
              <strong>Thank you!</strong> your data done to input..
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            <div class="col">
              <h6>Anamnesa</h6>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <label for="dokter_umum" class="form-label">Dokter Umum</label>
            </div>
            <div class="col-md-3">
              <select class="form-select" id="dokter_umum" name="dokter umum">
                <option selected value="zico permadi, MD">zico permadi, MD</option>
                <option value="Tri Widyastuti">Tri Widyastuti</option>
                <option value="2" disabled>Two</option>
                <option value="terriiii">Three</option>
              </select>
            </div>
            <div class="col-md-2">
              <label for="keluhan_utama" class="form-label">Keluhan Utama</label>
            </div>
            <div class="col-md-5">
              <textarea class="form-control" rows="3" id="keluhan_utama" name="keluhan utama"></textarea>
            </div>
          </div>
        </div>
        <!-- ANAMNESA BOX END -->

        <!-- PEMERIKSAAN FISIK BOX START -->
        <div class="container">
          <div class="row">
            <div class="col">
              <h6>Pemeriksaan Fisik</h6>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <label for="kesadaran" class="form-label">Kesadaran</label>
            </div>
            <div class="col-md-4">
              <select class="form-select form-select-sm" aria-label="Default select example" id="kesadaran" name="kesadaran">
                <option selected value="Compos Mentis">Compos Mentis</option>
                <option value="Somnolen">Somnolen</option>
                <option value="Sopor">Sopor</option>
                <option value="Coma">Coma</option>
              </select>
            </div>
            <div class="col-md-2">
              <label for="suhu" class="form-label">Suhu</label>
            </div>
            <div class="col-md-4">
              <textarea class="form-control form-control-sm" placeholder="Â°C" id="suhu" rows="1" name="suhu"></textarea>
            </div>
          </div>
        </div>
        <!-- pembatan antar kontainer -->
        <div class="container">
          <div class="row">
            <div class="col"></div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <label for="sistole" class="form-label">Sistole</label>
            </div>
            <div class="col-md-4">
              <textarea class="form-control form-control-sm" placeholder="mmHg" id="sistole" rows="1" name="sistole"></textarea>
            </div>
            <div class="col-md-2">
              <label for="diastole" class="form-label">Diastole</label>
            </div>
            <div class="col-md-4">
              <textarea class="form-control form-control-sm" placeholder="mmHg" id="diastole" rows="1" name="diastole"></textarea>
            </div>
          </div>
        </div>
        <!-- pembatan antar kontainer -->
        <div class="container">
          <div class="row">
            <div class="col"></div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <label for="nadi" class="form-label">Nadi</label>
            </div>
            <div class="col-md-4">
              <textarea class="form-control form-control-sm" placeholder="x/menit" id="nadi" rows="1" name="nadi"></textarea>
            </div>
            <div class="col-md-2">
              <label for="nafas" class="form-label">Nafas</label>
            </div>
            <div class="col-md-4">
              <textarea class="form-control form-control-sm" placeholder="x/menit" id="nafas" rows="1" name="nafas"></textarea>
            </div>
          </div>
        </div>
        <!-- pembatan antar kontainer -->
        <div class="container">
          <div class="row">
            <div class="col"></div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <label for="beratbadan" class="form-label">Berat badan (BB)</label>
            </div>
            <div class="col-md-4">
              <textarea class="form-control form-control-sm" placeholder="Kg" id="beratbadan" rows="1" name="BB"></textarea>
            </div>
            <div class="col-md-2">
              <label for="tinggibadan" class="form-label">Tinggi badan (TB)</label>
            </div>
            <div class="col-md-4">
              <textarea class="form-control form-control-sm" placeholder="Cm" id="tinggibadan" rows="1" name="TB"></textarea>
            </div>
          </div>
        </div>
        <!-- PEMERIKSAAN FISIK BOX END -->

        <!-- RIWAYAT PENYAKIT START -->
        <div class="container">
          <div class="row">
            <div class="col">
              <h6>Riwayat Penyakit</h6>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="tidak ada" id="riwayat_penyakit" name="riwayat penyakit" checked />
                <label class="form-check-label" for="riwayat_penyakit"> Tidak Ada </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="ya" id="alergi_obat" name="alergi obat" />
                <label class="form-check-label" for="alergi_obat"> Alergi Obat </label>
              </div>
            </div>
          </div>
        </div>
        <!-- RIW PENYAKIT END -->

        <!-- DIAGNOSA START -->
        <div class="container">
          <div class="row">
            <div class="col">
              <h6>Diagnosa</h6>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <label for="diagnosa" class="form-label">Dx</label>
            </div>
            <div class="col-md-4">
              <textarea class="form-control form-control-sm" placeholder="" id="diagnosa" rows="1" name="diagnosa"></textarea>
            </div>
            <div class="col-md-2">
              <button type="add" class="btn btn-outline-primary btn-sm btntambah">add</button>
            </div>
          </div>
        </div>
        <!-- DIAGNOSA END -->

        <!-- RESEP START -->
        <div class="container">
          <div class="row">
            <div class="col">
              <h6>Resep</h6>
            </div>
          </div>
          <div class="row">
            <div class="col-md-5">
              <label for="resep" class="form-label"></label>
              <textarea class="form-control form-control" placeholder="" id="resep" rows="3" name="resep"></textarea>
            </div>
          </div>
        </div>
        <!-- RESEP END -->

        <!-- BUTTON KIRIM & CLEAR START -->
        <div class="container">
          <div class="row mt-3">
            <div class="col">
              <button type="submit" class="btn btn-outline-success btn-kirim">Submit</button>
              <button class="btn btn-success btn-loading d-none" type="button" disabled><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...</button>
              <button type="reset" class="btn btn-outline-danger btnhapus" onclick="javascript:reset()">Clear</button>
            </div>
          </div>
        </div>
      </form>
    </section>
    <!-- BUTTON KIRIM & CLEAR END -->

    <!-- Button trigger modal -->
    <button type="button" class="btn btn-success buttonBantuan text-center" data-bs-toggle="modal" data-bs-target="#exampleModal">
      <i class="bi bi-whatsapp"></i>
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title ms-auto text-danger" id="JudulModalLabel"><i class="bi bi-exclamation-octagon"></i></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center">Apakah anda membutuhkan bantuan dari Team Customer Support?</div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
            <button type="button" class="btn btn-primary"><a class="text-light" href="https://wa.me/+6285960200947">Yes</a></button>
          </div>
        </div>
      </div>
    </div>

    <!-- END MODAL -->

    <!-- BOOTSTRAP SCRIPT -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

    <!-- SKRIP MASUKIN DATA KE GSHEETS -->
    <script>
      const scriptURL = 'https://script.google.com/macros/s/AKfycbySwhbAQYdirVsrVJQaErpU3KaEyG9b4X5bg3IGp1287p--wIL_Ote6WMRxgDeAP5xxSg/exec';
      const form = document.forms['E-RM'];
      // tombol
      const btnKirim = document.querySelector('.btn-kirim');
      const btnLoading = document.querySelector('.btn-loading');

      // alert
      const myAlert = document.querySelector('.my-alert');

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        // ketika tombol submit di klik
        // tampilkan tombol loading, hilangkan tombol kirim
        btnKirim.classList.toggle('d-none');
        btnLoading.classList.toggle('d-none');

        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
          .then((response) => {
            // tampilkan tombol kirim, hilangkan tombol loading
            btnKirim.classList.toggle('d-none');
            btnLoading.classList.toggle('d-none');

            //tampilkan alert
            myAlert.classList.toggle('d-none');

            //reset formnya
            form.reset();

            console.log('Success!', response);
          })
          .catch((error) => console.error('Error!', error.message));
      });
    </script>
  </body>
</html>
